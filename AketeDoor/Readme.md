# LockerStoreGAS用サンプルコード

## 📌 概要

このサンプルコードでは、Wixで買われた商品をWebhookで受け取ることで、ロッカーの解錠用暗証番号とQRコードを購入者に送付します。

## 🚀 セットアップ

1. 無料で30日間利用できるKEYVOXアカウントを取得します。参照：https://keyvox.co/free
2. ロックの設定を行います。参照：https://keyvox.notion.site/2d2e09a81d274308b041f458f0992417?pvs=4
3. Web管理画面からAPIキーを取得します。参照：https://keyvox.notion.site/API-44c489d8c97a4eba8a7fa0028c3b39a1
4. Google Apps Scriptのダッシュボードにアクセスし、新しいプロジェクトを作成します。
5. このリポジトリからコードをコピーし、GASエディタに貼り付けます。※このリポジトリのコードを使用するには、GASのプロパティサービスを使用して、これらのキーと設定をスクリプトに追加します。（通常APIキー、シークレットキー、デバイスID、ロックID、Post先URLなどを書き換えるだけで動きます。）

## 📝 使用方法

1. GASエディタで、`storeKeys`関数を一度だけ実行して、APIキーとシークレットキーを保存します。
2. 必要なサービスのWebhookを設定して、GASで指定されたエンドポイントにデータをPOSTするようにします。
3. GASをデプロイし、アプリケーションURLを取得します。取得したアプリケーションURLをWixのWebhook送付先URLに指定します。
4. 解錠するための暗証番号とQRコードが生成され、指定されたメールアドレスに通知されます。

## 📞 連絡先

問題や提案がある場合は、公式コミュニティにお問い合わせください：
- https://discord.gg/QBUBmjaSj8